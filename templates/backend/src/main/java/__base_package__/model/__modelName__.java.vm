package ${currentClass.packageName};

import org.springframework.format.annotation.DateTimeFormat;
import javax.validation.constraints.NotNull;
import java.io.Serializable;
import jakarta.persistence.*;
#if($currentModel.primaryKeyFields.size() > 1)## A
import ${currentIdClass.qualifiedName};
#end## A
#foreach ($importType in $currentClass.dynamicImports)## A
import ${importType};
#end## A

@Entity
#if($currentModel.primaryKeyFields.size() > 1)
@IdClass(${currentIdClass.simpleName}.class)
#end
@Table(name = "${currentModel.tableName}")
public class ${currentClass.simpleName} #if($requestModelClass.superClass != $null)extends ${requestModelClass.superClass.simpleName} #end#if($currentModel.primaryKeyFields.size() > 1)implements Serializable#end{

#set($ownProperties = [])
#foreach ($field in ${currentClass.fields})## A
#if($ownProperties.add($field.property))#end
#if($field.nullable == false)## A-1
    @NotNull(message = "$field.label not null")
#end## A-1
#if(${field.jdbcType} == 'DATE' || ${field.jdbcType} == 'TIMESTAMP' || ${field.jdbcType} == 'TIME')## A-2
#if($field.format == "DATE")## A-2-1
    @DateTimeFormat(iso = DateTimeFormat.ISO.DATE)
#elseif($field.format == "TIME")## A-2-1
    @DateTimeFormat(iso = DateTimeFormat.ISO.TIME)
#else## A-2-1
    @DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME)
#end## A-2-1
#end## A-2
    private #getJavaTypeSimpleName($field.javaType) $field.property;

#end## A

#foreach ($field in ${currentClass.allFields})## A
#if($field.exist)## A-1
#if($field.primaryKey)## A-1-1
    @Id
#if($currentModel.primaryKeyFields.size() == 1)## A-1-1-1
#set($primaryKeyField = ${currentModel.primaryKeyField})
#if($primaryKeyField != $null && ($primaryKeyField.javaType == "java.lang.Long" || $primaryKeyField.javaType == "java.lang.Integer"))## A-1-1-1-1
    @GeneratedValue(strategy = GenerationType.IDENTITY)
#elseif($primaryKeyField != $null)## A-1-1-1-1
    @GeneratedValue(strategy = GenerationType.AUTO)
#end## A-1-1-1-1
#end## A-1-1-1
#else## A-1-1
#set($_column_annotion_attributes = [])
#if(!$field.nullable)## A-1-1-1
#if($_column_annotion_attributes.add("nullable = false"))#end
#end## A-1-1-1
#if($field.unique)## A-1-1-2
#if($_column_annotion_attributes.add("unique = true"))#end
#end## A-1-1-2
#if($_column_annotion_attributes.size() > 0)## A-1-1-3
    @Column(#foreach ($_column_annotion_attribute in $_column_annotion_attributes)$_column_annotion_attribute#if(!$foreach.last), #end#end)
#else## A-1-1-3
    @Column
#end## A-1-1-3
#end## A-1-1
#end## A-1
#if($ownProperties.contains($field.property))## A-2
#if(!$field.exist)## A-2-1
    @Transient
#end## A-2-1
    public #getJavaTypeSimpleName($field.javaType) #getFieldGetterName($field)() {
        return this.$field.property;
    }

#elseif($field.exist)## A-2
    @Override
    public #getJavaTypeSimpleName($field.javaType) #getFieldGetterName($field)() {
        return super.#getFieldGetterName($field)();
    }

#end## A-2
#if($ownProperties.contains($field.property))## A-3
    public void #getFieldSetterName($field)(#getJavaTypeSimpleName($field.javaType) $field.property) {
        this.$field.property = $field.property;
    }

#end## A-3
#end## A
}
